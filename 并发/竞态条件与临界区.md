在同一程序中执行多线程不会导致出现问题，但是在进行操作同一资源的时候就会产生问题，例如同一内存区，系统，文件这些共享资源内容。但是是在对这些资源进行写操作时才会产生问题，如果共享资源未发生变化就是那多线程进行操作时没有问题。多个线程读取文件就是线程安全的

例如:

```java
public class Demo{
    public long count = 0;
    public void add(long value){
        this.count = this.count + value;
    }
}
```

在上述代码中执行多线程就会出现问题，上面的操作不是原子性的操作

执行count + value的这个操作的时候就会分为两个步骤进行

在线程执行的情况之下A线程与B线程可能会两个交替执行切换，JVM并不是将上述代码作为单条指令来进行操作而是：

> 先从内存中进行获到this.count 的值放在寄存器当中去
>
> 寄存器中将值加上value
>
> 再将得到的值写回内存中

上述操作就是不能保证原子性的执行

## 竞技条件&临界区

> 当两个线程进行对同一资源竞争的时候，如果被竞争的资源存在对于顺序敏感，那就存在竞技条件。
>
> 导致竞技条件产生的代码块就是临界区。
>
> 在临界区中使用适当的同步就能避免竞技条件的产生。

